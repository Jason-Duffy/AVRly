<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AVRly - AVR Development Resources: I2C</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AVRly - AVR Development Resources
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__i2c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a>  </div>
  <div class="headertitle"><div class="title">I2C<div class="ingroups"><a class="el" href="group__avr__peripherals.html">AVR Peripheral Features</a> &raquo; <a class="el" href="group__comms__protocols.html">Communication Protocols</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:avr-peripheral-features_2i2c_2atmega__i2c_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avr-peripheral-features_2i2c_2atmega__i2c_8c.html">atmega_i2c.c</a></td></tr>
<tr class="memdesc:avr-peripheral-features_2i2c_2atmega__i2c_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C communications driver for AVR MCU's. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:avr-peripheral-features_2i2c_2atmega__i2c_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avr-peripheral-features_2i2c_2atmega__i2c_8h.html">atmega_i2c.h</a></td></tr>
<tr class="memdesc:avr-peripheral-features_2i2c_2atmega__i2c_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C communications driver for AVR MCU's. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:modules_2avr-peripheral-features_2i2c_2pin__defines_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modules_2avr-peripheral-features_2i2c_2pin__defines_8h.html">pin_defines.h</a></td></tr>
<tr class="memdesc:modules_2avr-peripheral-features_2i2c_2pin__defines_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definitions for pin mapping. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<dl class="section see"><dt>See also</dt><dd>The files can be downloaded from the repo at: <a href="https://github.com/Jason-Duffy/AVRly/tree/main/content/modules/avr-peripheral-features/comms_protocols/i2c/example">https://github.com/Jason-Duffy/AVRly/tree/main/content/modules/avr-peripheral-features/comms_protocols/i2c/example</a> </dd></dl>


<h3><a id="md_content_modules_avr_peripheral_features_i2c_README" name="md_content_modules_avr_peripheral_features_i2c_README"></a>README</h3><div class="textblock"><h2><a class="anchor" id="autotoc_md70"></a>
Introduction</h2>
<p >I<sup>2</sup>C (Inter-Integrated Circuit), also known as I2C, IIC, or TWI (Two Wire Interface) is a Syncronous, packet-switched serial communications bus protocol designed for short distance intra-board communication. It's often favoured over SPI communication where there are many devices on the bus and not enough GPIO lines to have a CS line for each, as I<sup>2</sup>C uses a 7 bit address to select a device.</p>
<h2><a class="anchor" id="autotoc_md71"></a>
Interface</h2>
<p >An I<sup>2</sup>C bus just requires 2 lines, SDA and SCL (plus ground of course), and these can be common to all devices.</p>
<p >SDA (Serial Data) is for the packets of data to be sent, and SCL is the clock line to synchronise all the devices on the bus.</p>
<div class="image">
<img src="I2C-Block-Diagram.jpg" alt=""/>
<div class="caption">
I2C Block Diagram</div></div>
    <p >To begin an I<sup>2</sup>C conversation, a start condition is required. The start condition consists of the SDA line being pulled from high to low while the SCL line is high. The strat condition serves to wake the receiving device on the bus.</p>
<p >The next part of the data transmission is the address of the receiving device, in 7 bit format. Often an I<sup>2</sup>C device has jumper pads on it's module board, which can be bridged with solder to modify the address of the device, to avoid clashes with others.</p>
<p >Next comes the read/write bit, this bit reads 0 for a write instruction and 1 for a read instruction.</p>
<p >Once a device has accepted that the address is a match, and recived the read/write bit, it will send an ACK (acknowledgement) bit as feedback to let the host MCU know to proceed with the rest of the message. The receiving device achieved this by holding the SDA line low during a high SCL period, while a NACK (no acknowledgement) is sent by passively leaving the SDA line pulled high during a high SCL period.</p>
<p >Next come the data bits, usually a byte followed by either a repeated start condition if another byte is to be sent, or a stop condition if the message is finished. The data bits are sent MSB first, and an ACK is expected after each byte.</p>
<p >The stop condition is performed by pulling the SDA line from low to high while the SCL line is high. After this condition, you will need to send the start condition, address and read/write bit again to begin a new transmission to the device.</p>
<div class="image">
<img src="i2c_data_transmission.png" alt=""/>
<div class="caption">
I2C Data Transmission Diagram</div></div>
    <h2><a class="anchor" id="autotoc_md72"></a>
API Reference</h2>
<h3><a class="anchor" id="autotoc_md73"></a>
Coming Soon.</h3>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
