<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AVRly - AVR Development Resources: content/modules/displays/hd44780_lcd/example/hd44780_lcd.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AVRly - AVR Development Resources
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">hd44780_lcd.h File Reference<div class="ingroups"><a class="el" href="group__displays.html">Displays</a> &raquo; <a class="el" href="group__hd44780__lcd.html">HD44780 16x2 LCD Example</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Driver for the HD44780 based 16x2 liquid crystal display.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
</div>
<p><a href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlcd__config__t.html">lcd_config_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration struct, to be instantiated and values assigned before passing it's address into and calling lcd_init().  <a href="structlcd__config__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7850604dcf83e9e426e095c50b22fb87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#a7850604dcf83e9e426e095c50b22fb87">init_lcd</a> (<a class="el" href="structlcd__config__t.html">lcd_config_t</a> *p_config)</td></tr>
<tr class="memdesc:a7850604dcf83e9e426e095c50b22fb87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialisation routine (run once at startup).  <a href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#a7850604dcf83e9e426e095c50b22fb87">More...</a><br /></td></tr>
<tr class="separator:a7850604dcf83e9e426e095c50b22fb87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ebf1541a3a6e07e486ed27f4aa3ba29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#a1ebf1541a3a6e07e486ed27f4aa3ba29">lcd_display_off</a> (void)</td></tr>
<tr class="memdesc:a1ebf1541a3a6e07e486ed27f4aa3ba29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn display off (config settings are retained).  <a href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#a1ebf1541a3a6e07e486ed27f4aa3ba29">More...</a><br /></td></tr>
<tr class="separator:a1ebf1541a3a6e07e486ed27f4aa3ba29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dcf6f7c563b770ad2bc827b1640c4ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#a9dcf6f7c563b770ad2bc827b1640c4ed">lcd_display_on</a> (void)</td></tr>
<tr class="memdesc:a9dcf6f7c563b770ad2bc827b1640c4ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn display on.  <a href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#a9dcf6f7c563b770ad2bc827b1640c4ed">More...</a><br /></td></tr>
<tr class="separator:a9dcf6f7c563b770ad2bc827b1640c4ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0725f9cf954c41cdad7a759d7303702c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#a0725f9cf954c41cdad7a759d7303702c">lcd_print_string</a> (const char *str)</td></tr>
<tr class="memdesc:a0725f9cf954c41cdad7a759d7303702c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a string of characters to the display.  <a href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#a0725f9cf954c41cdad7a759d7303702c">More...</a><br /></td></tr>
<tr class="separator:a0725f9cf954c41cdad7a759d7303702c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bd49f560342eeabfd8737ccd0b12666"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#a3bd49f560342eeabfd8737ccd0b12666">lcd_print_integer</a> (int16_t number)</td></tr>
<tr class="memdesc:a3bd49f560342eeabfd8737ccd0b12666"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints an integer variable.  <a href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#a3bd49f560342eeabfd8737ccd0b12666">More...</a><br /></td></tr>
<tr class="separator:a3bd49f560342eeabfd8737ccd0b12666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6cb9c42cacad130800205a0c1a19086"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#af6cb9c42cacad130800205a0c1a19086">lcd_set_cursor</a> (uint8_t column, uint8_t row)</td></tr>
<tr class="memdesc:af6cb9c42cacad130800205a0c1a19086"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets cursor location using x and y coordinates.  <a href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#af6cb9c42cacad130800205a0c1a19086">More...</a><br /></td></tr>
<tr class="separator:af6cb9c42cacad130800205a0c1a19086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab3257da1c144dac575c1191c713cb26"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#aab3257da1c144dac575c1191c713cb26">lcd_fast_clear</a> (void)</td></tr>
<tr class="memdesc:aab3257da1c144dac575c1191c713cb26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes space characters to all 32 sections of display (or 16 if in 1 line mode).  <a href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#aab3257da1c144dac575c1191c713cb26">More...</a><br /></td></tr>
<tr class="separator:aab3257da1c144dac575c1191c713cb26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7dbbe2ed912e671a22a92d93b0eb511"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#ac7dbbe2ed912e671a22a92d93b0eb511">lcd_reconfigure</a> (void)</td></tr>
<tr class="memdesc:ac7dbbe2ed912e671a22a92d93b0eb511"><td class="mdescLeft">&#160;</td><td class="mdescRight">Edits config settings on the display (<a class="el" href="structlcd__config__t.html" title="Configuration struct, to be instantiated and values assigned before passing it&#39;s address into and cal...">lcd_config_t</a> members must be changed first).  <a href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#ac7dbbe2ed912e671a22a92d93b0eb511">More...</a><br /></td></tr>
<tr class="separator:ac7dbbe2ed912e671a22a92d93b0eb511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acac59bc5a50baf4a548b1119104fbdcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#acac59bc5a50baf4a548b1119104fbdcb">lcd_return_home</a> (void)</td></tr>
<tr class="memdesc:acac59bc5a50baf4a548b1119104fbdcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets DDRAM address 0 in address counter.  <a href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#acac59bc5a50baf4a548b1119104fbdcb">More...</a><br /></td></tr>
<tr class="separator:acac59bc5a50baf4a548b1119104fbdcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021ab7c2e0fc3231c1a102a4a1a663da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#a021ab7c2e0fc3231c1a102a4a1a663da">lcd_shift_cursor_left</a> (uint8_t distance)</td></tr>
<tr class="memdesc:a021ab7c2e0fc3231c1a102a4a1a663da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves cursor left without changing DDRAM contents.  <a href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#a021ab7c2e0fc3231c1a102a4a1a663da">More...</a><br /></td></tr>
<tr class="separator:a021ab7c2e0fc3231c1a102a4a1a663da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb915e4c09797f59f57f7d64eb405b24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#acb915e4c09797f59f57f7d64eb405b24">lcd_shift_cursor_right</a> (uint8_t distance)</td></tr>
<tr class="memdesc:acb915e4c09797f59f57f7d64eb405b24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves cursor right without changing DDRAM contents.  <a href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#acb915e4c09797f59f57f7d64eb405b24">More...</a><br /></td></tr>
<tr class="separator:acb915e4c09797f59f57f7d64eb405b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaef5c0041212b5f84ab8581a2b7b946b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#aaef5c0041212b5f84ab8581a2b7b946b">lcd_shift_display_left</a> (uint8_t distance, bool delay)</td></tr>
<tr class="memdesc:aaef5c0041212b5f84ab8581a2b7b946b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shifts display left without changing DDRAM contents.  <a href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#aaef5c0041212b5f84ab8581a2b7b946b">More...</a><br /></td></tr>
<tr class="separator:aaef5c0041212b5f84ab8581a2b7b946b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56e4319c136d1d304485999289e57970"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#a56e4319c136d1d304485999289e57970">lcd_shift_display_right</a> (uint8_t distance, bool delay)</td></tr>
<tr class="memdesc:a56e4319c136d1d304485999289e57970"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shifts display right without changing DDRAM contents.  <a href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html#a56e4319c136d1d304485999289e57970">More...</a><br /></td></tr>
<tr class="separator:a56e4319c136d1d304485999289e57970"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Driver for the HD44780 based 16x2 liquid crystal display. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright Â© 2022 by Jason Duffy.</dd></dl>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p >The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p >THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p><dl class="section author"><dt>Author</dt><dd>Jason Duffy </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1st March 2022 </dd></dl>
<p >This file provides the basic low-level functionality for the ubiquitous 16x2 display. Please note that it uses long blocking waits in the initialisation routine (100ms), and short blocking waits in other utility functions (2uS - 2mS). This was done to simplify the code as the busy flag read introduced pitfalls. This driver currently only allows for a single display to be used, but this might be improved on at a later date.</p>
<p >This driver was written using the datasheet for the HITACHI HD44780U LCD driver chip, which can be found at the link below. </p><dl class="section see"><dt>See also</dt><dd><a href="http://www.datasheet-pdf.com/PDF/HD44780U-Datasheet-Hitachi-1109874">http://www.datasheet-pdf.com/PDF/HD44780U-Datasheet-Hitachi-1109874</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h_source.html">hd44780_lcd.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a7850604dcf83e9e426e095c50b22fb87" name="a7850604dcf83e9e426e095c50b22fb87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7850604dcf83e9e426e095c50b22fb87">&#9670;&nbsp;</a></span>init_lcd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_lcd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlcd__config__t.html">lcd_config_t</a> *&#160;</td>
          <td class="paramname"><em>p_config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialisation routine (run once at startup). </p>
<p >This function is to be called immediately after powerup of the display module. Instantiate the <a class="el" href="structlcd__config__t.html" title="Configuration struct, to be instantiated and values assigned before passing it&#39;s address into and cal...">lcd_config_t</a> object first then pass it's address into <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8h.html#a7850604dcf83e9e426e095c50b22fb87" title="Initialisation routine (run once at startup).">init_lcd()</a> before using any other lcd functions. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_config</td><td>is a pointer to the <a class="el" href="structlcd__config__t.html" title="Configuration struct, to be instantiated and values assigned before passing it&#39;s address into and cal...">lcd_config_t</a> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns void. </dd></dl>

<p class="definition">Definition at line <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00105">105</a> of file <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html">hd44780_lcd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  106</span>{</div>
<div class="line"><span class="lineno">  107</span>    <span class="comment">// copy address of config object pointer to a local pointer</span></div>
<div class="line"><span class="lineno">  108</span>    p_config_local = p_config;</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>    <span class="comment">// Set data direction registers to output where applicable</span></div>
<div class="line"><span class="lineno">  111</span>    LCD_CTRL_DDR |= (1U &lt;&lt; LCD_RS) | (1U &lt;&lt; LCD_EN);</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>    <span class="comment">// Test for bit mode and set appropriate bitmask</span></div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">if</span> (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a5e17470a97fd281d6b7157ccb619b323">eight_bit_mode</a>)</div>
<div class="line"><span class="lineno">  115</span>    {</div>
<div class="line"><span class="lineno">  116</span>        data_length_bitmask = 0xff; <span class="comment">// 0b11111111</span></div>
<div class="line"><span class="lineno">  117</span>    }</div>
<div class="line"><span class="lineno">  118</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  119</span>    {</div>
<div class="line"><span class="lineno">  120</span>        data_length_bitmask |= (1U &lt;&lt; LCD_D7) | (1U &lt;&lt; LCD_D6);</div>
<div class="line"><span class="lineno">  121</span>        data_length_bitmask |= (1U &lt;&lt; LCD_D5) | (1U &lt;&lt; LCD_D4);</div>
<div class="line"><span class="lineno">  122</span>    }</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>    <span class="comment">// Set relevant lcd data port direction to output</span></div>
<div class="line"><span class="lineno">  125</span>    LCD_DATA_DDR |= data_length_bitmask;</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>    <span class="comment">// Delay to allow power ramp up in LCD controller</span></div>
<div class="line"><span class="lineno">  128</span>    _delay_ms(POWER_RAMP_DELAY_MS);</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    <span class="comment">// Begin initialising HD44780</span></div>
<div class="line"><span class="lineno">  131</span>    uint8_t <span class="keywordtype">byte</span> = 0;</div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordtype">byte</span> |= FUNCTION_SET;</div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a5e17470a97fd281d6b7157ccb619b323">eight_bit_mode</a> &lt;&lt; DATA_LENGTH_BIT);</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">for</span> (uint8_t count = 0; count &lt; 3; ++count)</div>
<div class="line"><span class="lineno">  136</span>    {</div>
<div class="line"><span class="lineno">  137</span>        lcd_command(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">  138</span>        _delay_ms(LONG_INSTR_DELAY_MS);</div>
<div class="line"><span class="lineno">  139</span>    }</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordtype">byte</span> = 0;</div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordtype">byte</span> |= FUNCTION_SET;</div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a5e17470a97fd281d6b7157ccb619b323">eight_bit_mode</a> &lt;&lt; DATA_LENGTH_BIT);</div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a9ccb959ea17cf7b7f13818e4d606b3af">two_line_display</a> &lt;&lt; DISPLAY_LINES_BIT);</div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a922f5a375c0c0adc94b5f8e09e08eb62">five_by_ten_font</a> &lt;&lt; FONT_SIZE_BIT);</div>
<div class="line"><span class="lineno">  146</span>    lcd_command(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordtype">byte</span> = 0;</div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordtype">byte</span> |= ON_OFF_CTRL;</div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordtype">byte</span> |= (DISPLAY_OFF &lt;&lt; ON_OFF_CTRL_BIT);</div>
<div class="line"><span class="lineno">  151</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a4ef3fbb7b0e5026a0f29bf9aebbb2dff">cursor_enable</a> &lt;&lt; CURSOR_ENABLE_BIT);</div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a901f76a048a9fc7a55bc7f87002a2772">blink_enable</a> &lt;&lt; BLINK_ENABLE_BIT);</div>
<div class="line"><span class="lineno">  153</span>    lcd_command(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordtype">byte</span> = 0;</div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordtype">byte</span> |= CLEAR_DISPLAY;</div>
<div class="line"><span class="lineno">  157</span>    lcd_command(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <span class="keywordtype">byte</span> = 0;</div>
<div class="line"><span class="lineno">  160</span>    <span class="keywordtype">byte</span> |= ENTRY_MODE_SET;</div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a848b26ac11cf574fbf6d74a4300f6e7d">increment_counter</a> &lt;&lt; MOVE_DIRECTION_BIT);</div>
<div class="line"><span class="lineno">  162</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a465f515eb846ceee1b4d8149bc929404">display_shift</a> &lt;&lt; DISPLAY_SHIFT_BIT);</div>
<div class="line"><span class="lineno">  163</span>    lcd_command(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    <span class="keywordtype">byte</span> = 0;</div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordtype">byte</span> |= ON_OFF_CTRL;</div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordtype">byte</span> |= (DISPLAY_ON &lt;&lt; ON_OFF_CTRL_BIT);</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a4ef3fbb7b0e5026a0f29bf9aebbb2dff">cursor_enable</a> &lt;&lt; CURSOR_ENABLE_BIT);</div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a901f76a048a9fc7a55bc7f87002a2772">blink_enable</a> &lt;&lt; BLINK_ENABLE_BIT);</div>
<div class="line"><span class="lineno">  170</span>    lcd_command(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">  171</span>    <a class="code hl_function" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c.html#acac59bc5a50baf4a548b1119104fbdcb">lcd_return_home</a>();</div>
<div class="line"><span class="lineno">  172</span>}</div>
<div class="ttc" id="aavr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_html_acac59bc5a50baf4a548b1119104fbdcb"><div class="ttname"><a href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c.html#acac59bc5a50baf4a548b1119104fbdcb">lcd_return_home</a></div><div class="ttdeci">void lcd_return_home(void)</div><div class="ttdoc">Sets DDRAM address 0 in address counter.</div><div class="ttdef"><b>Definition:</b> <a href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00309">hd44780_lcd.c:309</a></div></div>
<div class="ttc" id="astructlcd__config__t_html_a465f515eb846ceee1b4d8149bc929404"><div class="ttname"><a href="structlcd__config__t.html#a465f515eb846ceee1b4d8149bc929404">lcd_config_t::display_shift</a></div><div class="ttdeci">bool display_shift</div><div class="ttdoc">true = display shift, false = cursor shift.</div><div class="ttdef"><b>Definition:</b> <a href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8h_source.html#l00062">hd44780_lcd.h:62</a></div></div>
<div class="ttc" id="astructlcd__config__t_html_a4ef3fbb7b0e5026a0f29bf9aebbb2dff"><div class="ttname"><a href="structlcd__config__t.html#a4ef3fbb7b0e5026a0f29bf9aebbb2dff">lcd_config_t::cursor_enable</a></div><div class="ttdeci">bool cursor_enable</div><div class="ttdoc">true = enabled, false = disabled.</div><div class="ttdef"><b>Definition:</b> <a href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8h_source.html#l00063">hd44780_lcd.h:63</a></div></div>
<div class="ttc" id="astructlcd__config__t_html_a5e17470a97fd281d6b7157ccb619b323"><div class="ttname"><a href="structlcd__config__t.html#a5e17470a97fd281d6b7157ccb619b323">lcd_config_t::eight_bit_mode</a></div><div class="ttdeci">bool eight_bit_mode</div><div class="ttdoc">true = 8 bit mode, false = 4 bit mode.</div><div class="ttdef"><b>Definition:</b> <a href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8h_source.html#l00058">hd44780_lcd.h:58</a></div></div>
<div class="ttc" id="astructlcd__config__t_html_a848b26ac11cf574fbf6d74a4300f6e7d"><div class="ttname"><a href="structlcd__config__t.html#a848b26ac11cf574fbf6d74a4300f6e7d">lcd_config_t::increment_counter</a></div><div class="ttdeci">bool increment_counter</div><div class="ttdoc">true = increment, false = decrement.</div><div class="ttdef"><b>Definition:</b> <a href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8h_source.html#l00061">hd44780_lcd.h:61</a></div></div>
<div class="ttc" id="astructlcd__config__t_html_a901f76a048a9fc7a55bc7f87002a2772"><div class="ttname"><a href="structlcd__config__t.html#a901f76a048a9fc7a55bc7f87002a2772">lcd_config_t::blink_enable</a></div><div class="ttdeci">bool blink_enable</div><div class="ttdoc">true = enabled, false = disabled.</div><div class="ttdef"><b>Definition:</b> <a href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8h_source.html#l00064">hd44780_lcd.h:64</a></div></div>
<div class="ttc" id="astructlcd__config__t_html_a922f5a375c0c0adc94b5f8e09e08eb62"><div class="ttname"><a href="structlcd__config__t.html#a922f5a375c0c0adc94b5f8e09e08eb62">lcd_config_t::five_by_ten_font</a></div><div class="ttdeci">bool five_by_ten_font</div><div class="ttdoc">true = 5x10 dots, false = 5x8 dots.</div><div class="ttdef"><b>Definition:</b> <a href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8h_source.html#l00060">hd44780_lcd.h:60</a></div></div>
<div class="ttc" id="astructlcd__config__t_html_a9ccb959ea17cf7b7f13818e4d606b3af"><div class="ttname"><a href="structlcd__config__t.html#a9ccb959ea17cf7b7f13818e4d606b3af">lcd_config_t::two_line_display</a></div><div class="ttdeci">bool two_line_display</div><div class="ttdoc">true = 2 lines, false = 1 line.</div><div class="ttdef"><b>Definition:</b> <a href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8h_source.html#l00059">hd44780_lcd.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ebf1541a3a6e07e486ed27f4aa3ba29" name="a1ebf1541a3a6e07e486ed27f4aa3ba29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ebf1541a3a6e07e486ed27f4aa3ba29">&#9670;&nbsp;</a></span>lcd_display_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_display_off </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turn display off (config settings are retained). </p>
<p >Side effect: cursor_enable and blink_enable variable states are written to the display during this command, so if they have been changed but <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8h.html#ac7dbbe2ed912e671a22a92d93b0eb511" title="Edits config settings on the display (lcd_config_t members must be changed first).">lcd_reconfigure()</a> was not called afterwards, this function will update those config bits on the display. </p><dl class="section return"><dt>Returns</dt><dd>Returns void. </dd></dl>

<p class="definition">Definition at line <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00178">178</a> of file <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html">hd44780_lcd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  179</span>{</div>
<div class="line"><span class="lineno">  180</span>    uint8_t <span class="keywordtype">byte</span> = 0;</div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordtype">byte</span> |= ON_OFF_CTRL; <span class="comment">// Default is off</span></div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a4ef3fbb7b0e5026a0f29bf9aebbb2dff">cursor_enable</a> &lt;&lt; CURSOR_ENABLE_BIT);</div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a901f76a048a9fc7a55bc7f87002a2772">blink_enable</a> &lt;&lt; BLINK_ENABLE_BIT);</div>
<div class="line"><span class="lineno">  184</span>    lcd_command(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">  185</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9dcf6f7c563b770ad2bc827b1640c4ed" name="a9dcf6f7c563b770ad2bc827b1640c4ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dcf6f7c563b770ad2bc827b1640c4ed">&#9670;&nbsp;</a></span>lcd_display_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_display_on </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turn display on. </p>
<p >Side effect: cursor_enable and blink_enable variable states are written to the display during this command, so if they have been changed but <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8h.html#ac7dbbe2ed912e671a22a92d93b0eb511" title="Edits config settings on the display (lcd_config_t members must be changed first).">lcd_reconfigure()</a> was not called afterwards, this function will update those config bits on the display. </p><dl class="section return"><dt>Returns</dt><dd>Returns void. </dd></dl>

<p class="definition">Definition at line <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00191">191</a> of file <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html">hd44780_lcd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  192</span>{</div>
<div class="line"><span class="lineno">  193</span>    uint8_t <span class="keywordtype">byte</span> = 0;</div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordtype">byte</span> |= ON_OFF_CTRL;</div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordtype">byte</span> |= (DISPLAY_ON &lt;&lt; ON_OFF_CTRL_BIT);</div>
<div class="line"><span class="lineno">  196</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a4ef3fbb7b0e5026a0f29bf9aebbb2dff">cursor_enable</a> &lt;&lt; CURSOR_ENABLE_BIT);</div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a901f76a048a9fc7a55bc7f87002a2772">blink_enable</a> &lt;&lt; BLINK_ENABLE_BIT);</div>
<div class="line"><span class="lineno">  198</span>    lcd_command(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">  199</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0725f9cf954c41cdad7a759d7303702c" name="a0725f9cf954c41cdad7a759d7303702c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0725f9cf954c41cdad7a759d7303702c">&#9670;&nbsp;</a></span>lcd_print_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_print_string </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a string of characters to the display. </p>
<p >This function takes a string literal (constant) as it's parameter. Be sure to enclose text passed in with "" quotation marks. eg: "Hello, World!". </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>is a string literal. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns void. </dd></dl>

<p class="definition">Definition at line <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00205">205</a> of file <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html">hd44780_lcd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  206</span>{</div>
<div class="line"><span class="lineno">  207</span>    <span class="keywordflow">for</span> (uint8_t index = 0; str[index] != 0; ++index)</div>
<div class="line"><span class="lineno">  208</span>    {</div>
<div class="line"><span class="lineno">  209</span>        lcd_char(str[index]);</div>
<div class="line"><span class="lineno">  210</span>    }</div>
<div class="line"><span class="lineno">  211</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3bd49f560342eeabfd8737ccd0b12666" name="a3bd49f560342eeabfd8737ccd0b12666"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bd49f560342eeabfd8737ccd0b12666">&#9670;&nbsp;</a></span>lcd_print_integer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_print_integer </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints an integer variable. </p>
<p >This function prints a signed integer value to the display, values from -32768 to 32767 are acceptable. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">number</td><td>is a signed, fixed width integer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns void. </dd></dl>

<p class="definition">Definition at line <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00217">217</a> of file <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html">hd44780_lcd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  218</span>{</div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">if</span> (number &lt; 0)</div>
<div class="line"><span class="lineno">  220</span>    {</div>
<div class="line"><span class="lineno">  221</span>        lcd_char(<span class="charliteral">&#39;-&#39;</span>);</div>
<div class="line"><span class="lineno">  222</span>    }</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>    uint8_t count = 0;</div>
<div class="line"><span class="lineno">  225</span>    uint8_t digit = 0;</div>
<div class="line"><span class="lineno">  226</span>    <span class="keywordtype">char</span> str[20];</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    <span class="keywordflow">while</span> (number &gt; 0)</div>
<div class="line"><span class="lineno">  229</span>    {</div>
<div class="line"><span class="lineno">  230</span>        digit = number % 10;</div>
<div class="line"><span class="lineno">  231</span>        str[count] = (digit + <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><span class="lineno">  232</span>        ++count;</div>
<div class="line"><span class="lineno">  233</span>        number /= 10;</div>
<div class="line"><span class="lineno">  234</span>    }</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">while</span> (count &gt; 0)</div>
<div class="line"><span class="lineno">  237</span>    {</div>
<div class="line"><span class="lineno">  238</span>        lcd_char(str[count - 1]);</div>
<div class="line"><span class="lineno">  239</span>        --count;</div>
<div class="line"><span class="lineno">  240</span>    }</div>
<div class="line"><span class="lineno">  241</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af6cb9c42cacad130800205a0c1a19086" name="af6cb9c42cacad130800205a0c1a19086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6cb9c42cacad130800205a0c1a19086">&#9670;&nbsp;</a></span>lcd_set_cursor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_set_cursor </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>row</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets cursor location using x and y coordinates. </p>
<p >Column is 0 for top row, 1 for bottom row (in 2 row mode). Row can be from 0 - 15, values outside of this range will be written to non visible spaces on the display. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">column</td><td>is the x coordinate. </td></tr>
    <tr><td class="paramname">row</td><td>is the y coordinate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns void. </dd></dl>

<p class="definition">Definition at line <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00247">247</a> of file <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html">hd44780_lcd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  248</span>{</div>
<div class="line"><span class="lineno">  249</span>    uint8_t address = 0;</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>    <span class="keywordflow">if</span> (row == 0)</div>
<div class="line"><span class="lineno">  252</span>    {</div>
<div class="line"><span class="lineno">  253</span>        address = column;</div>
<div class="line"><span class="lineno">  254</span>    }</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (row == 1)</div>
<div class="line"><span class="lineno">  257</span>    {</div>
<div class="line"><span class="lineno">  258</span>        address = (column + 64);</div>
<div class="line"><span class="lineno">  259</span>    }</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>    address |= 0x80U; <span class="comment">// Write 1 to MSB</span></div>
<div class="line"><span class="lineno">  262</span>    lcd_command(address);</div>
<div class="line"><span class="lineno">  263</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aab3257da1c144dac575c1191c713cb26" name="aab3257da1c144dac575c1191c713cb26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab3257da1c144dac575c1191c713cb26">&#9670;&nbsp;</a></span>lcd_fast_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_fast_clear </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes space characters to all 32 sections of display (or 16 if in 1 line mode). </p>
<p >This is much faster than the clear_display command, as that works by writing a space character to every single section of the display, even all the non-visible ones. </p><dl class="section return"><dt>Returns</dt><dd>Returns void. </dd></dl>

<p class="definition">Definition at line <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00270">270</a> of file <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html">hd44780_lcd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  271</span>{</div>
<div class="line"><span class="lineno">  272</span>    <a class="code hl_function" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c.html#af6cb9c42cacad130800205a0c1a19086">lcd_set_cursor</a>(0,0);</div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">for</span> (uint8_t count = 0; count &lt; 16; ++count)</div>
<div class="line"><span class="lineno">  274</span>    {</div>
<div class="line"><span class="lineno">  275</span>        lcd_char(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><span class="lineno">  276</span>    }</div>
<div class="line"><span class="lineno">  277</span>    </div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordflow">if</span> (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a9ccb959ea17cf7b7f13818e4d606b3af">two_line_display</a>)</div>
<div class="line"><span class="lineno">  279</span>    {</div>
<div class="line"><span class="lineno">  280</span>        <a class="code hl_function" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c.html#af6cb9c42cacad130800205a0c1a19086">lcd_set_cursor</a>(0,1);</div>
<div class="line"><span class="lineno">  281</span>        <span class="keywordflow">for</span> (uint8_t count = 0; count &lt; 16; ++count)</div>
<div class="line"><span class="lineno">  282</span>        {</div>
<div class="line"><span class="lineno">  283</span>            lcd_char(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><span class="lineno">  284</span>        }</div>
<div class="line"><span class="lineno">  285</span>    }</div>
<div class="line"><span class="lineno">  286</span>}</div>
<div class="ttc" id="aavr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_html_af6cb9c42cacad130800205a0c1a19086"><div class="ttname"><a href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c.html#af6cb9c42cacad130800205a0c1a19086">lcd_set_cursor</a></div><div class="ttdeci">void lcd_set_cursor(uint8_t column, uint8_t row)</div><div class="ttdoc">Sets cursor location using x and y coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00247">hd44780_lcd.c:247</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac7dbbe2ed912e671a22a92d93b0eb511" name="ac7dbbe2ed912e671a22a92d93b0eb511"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7dbbe2ed912e671a22a92d93b0eb511">&#9670;&nbsp;</a></span>lcd_reconfigure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_reconfigure </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Edits config settings on the display (<a class="el" href="structlcd__config__t.html" title="Configuration struct, to be instantiated and values assigned before passing it&#39;s address into and cal...">lcd_config_t</a> members must be changed first). </p>
<p >data_length, display_lines, and font_size cannot be changed after <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8h.html#a7850604dcf83e9e426e095c50b22fb87" title="Initialisation routine (run once at startup).">init_lcd()</a> is called. </p><dl class="section return"><dt>Returns</dt><dd>Returns void. </dd></dl>

<p class="definition">Definition at line <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00292">292</a> of file <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html">hd44780_lcd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  293</span>{</div>
<div class="line"><span class="lineno">  294</span>    uint8_t <span class="keywordtype">byte</span> = 0;</div>
<div class="line"><span class="lineno">  295</span>    <span class="keywordtype">byte</span> |= ENTRY_MODE_SET;</div>
<div class="line"><span class="lineno">  296</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a848b26ac11cf574fbf6d74a4300f6e7d">increment_counter</a> &lt;&lt; MOVE_DIRECTION_BIT);</div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordtype">byte</span> |= (p_config_local-&gt;<a class="code hl_variable" href="structlcd__config__t.html#a465f515eb846ceee1b4d8149bc929404">display_shift</a> &lt;&lt; DISPLAY_SHIFT_BIT);</div>
<div class="line"><span class="lineno">  298</span>    lcd_command(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    <span class="comment">// Also resends cursor and blink settings</span></div>
<div class="line"><span class="lineno">  301</span>    <a class="code hl_function" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c.html#a9dcf6f7c563b770ad2bc827b1640c4ed">lcd_display_on</a>();</div>
<div class="line"><span class="lineno">  302</span>}</div>
<div class="ttc" id="aavr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_html_a9dcf6f7c563b770ad2bc827b1640c4ed"><div class="ttname"><a href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c.html#a9dcf6f7c563b770ad2bc827b1640c4ed">lcd_display_on</a></div><div class="ttdeci">void lcd_display_on(void)</div><div class="ttdoc">Turn display on.</div><div class="ttdef"><b>Definition:</b> <a href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00191">hd44780_lcd.c:191</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acac59bc5a50baf4a548b1119104fbdcb" name="acac59bc5a50baf4a548b1119104fbdcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acac59bc5a50baf4a548b1119104fbdcb">&#9670;&nbsp;</a></span>lcd_return_home()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_return_home </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets DDRAM address 0 in address counter. </p>
<p >Also returns display from being shifted to original position. DDRAM contents remain unchanged. </p><dl class="section return"><dt>Returns</dt><dd>Returns void. </dd></dl>

<p class="definition">Definition at line <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00309">309</a> of file <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html">hd44780_lcd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  310</span>{</div>
<div class="line"><span class="lineno">  311</span>    lcd_command(CURSOR_HOME);</div>
<div class="line"><span class="lineno">  312</span>    _delay_ms(SHORT_INSTR_DELAY_MS);</div>
<div class="line"><span class="lineno">  313</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a021ab7c2e0fc3231c1a102a4a1a663da" name="a021ab7c2e0fc3231c1a102a4a1a663da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a021ab7c2e0fc3231c1a102a4a1a663da">&#9670;&nbsp;</a></span>lcd_shift_cursor_left()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_shift_cursor_left </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>distance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves cursor left without changing DDRAM contents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">distance</td><td>is used to specify how many spaces to move. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns void. </dd></dl>

<p class="definition">Definition at line <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00319">319</a> of file <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html">hd44780_lcd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  320</span>{</div>
<div class="line"><span class="lineno">  321</span>    uint8_t <span class="keywordtype">byte</span> = 0;</div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordtype">byte</span> |= CURSOR_DISPLAY_SHIFT;</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">for</span> (uint8_t count = 0; count &lt; distance; ++count)</div>
<div class="line"><span class="lineno">  325</span>    {</div>
<div class="line"><span class="lineno">  326</span>        lcd_command(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">  327</span>    }</div>
<div class="line"><span class="lineno">  328</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acb915e4c09797f59f57f7d64eb405b24" name="acb915e4c09797f59f57f7d64eb405b24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb915e4c09797f59f57f7d64eb405b24">&#9670;&nbsp;</a></span>lcd_shift_cursor_right()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_shift_cursor_right </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>distance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves cursor right without changing DDRAM contents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">distance</td><td>is used to specify how many spaces to move. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns void. </dd></dl>

<p class="definition">Definition at line <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00334">334</a> of file <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html">hd44780_lcd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  335</span>{</div>
<div class="line"><span class="lineno">  336</span>    uint8_t <span class="keywordtype">byte</span> = 0;</div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordtype">byte</span> |= CURSOR_DISPLAY_SHIFT;</div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordtype">byte</span> |= (1U &lt;&lt; RIGHT_LEFT_BIT);</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>    <span class="keywordflow">for</span> (uint8_t count = 0; count &lt; distance; ++count)</div>
<div class="line"><span class="lineno">  341</span>    {</div>
<div class="line"><span class="lineno">  342</span>        lcd_command(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">  343</span>    }</div>
<div class="line"><span class="lineno">  344</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aaef5c0041212b5f84ab8581a2b7b946b" name="aaef5c0041212b5f84ab8581a2b7b946b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaef5c0041212b5f84ab8581a2b7b946b">&#9670;&nbsp;</a></span>lcd_shift_display_left()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_shift_display_left </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>delay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shifts display left without changing DDRAM contents. </p>
<p >Optional delay between shifts for scrolling effect. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">distance</td><td>is used to specify how many spaces to move. </td></tr>
    <tr><td class="paramname">delay</td><td>- pass in true for scrolling effect, false for no delay. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns void. </dd></dl>

<p class="definition">Definition at line <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00350">350</a> of file <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html">hd44780_lcd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  351</span>{</div>
<div class="line"><span class="lineno">  352</span>    uint8_t <span class="keywordtype">byte</span> = 0U;</div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordtype">byte</span> |= CURSOR_DISPLAY_SHIFT;</div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordtype">byte</span> |= (1U &lt;&lt; SHIFT_OR_CURSOR_BIT);</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">for</span> (uint8_t count = 0; count &lt; distance; ++count)</div>
<div class="line"><span class="lineno">  357</span>    {</div>
<div class="line"><span class="lineno">  358</span>        lcd_command(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">if</span> (delay == <span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">  360</span>        {</div>
<div class="line"><span class="lineno">  361</span>            _delay_ms(SCROLL_DELAY_MS);</div>
<div class="line"><span class="lineno">  362</span>        }</div>
<div class="line"><span class="lineno">  363</span>    }</div>
<div class="line"><span class="lineno">  364</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a56e4319c136d1d304485999289e57970" name="a56e4319c136d1d304485999289e57970"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56e4319c136d1d304485999289e57970">&#9670;&nbsp;</a></span>lcd_shift_display_right()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_shift_display_right </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>delay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shifts display right without changing DDRAM contents. </p>
<p >Optional delay between shifts for scrolling effect. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">distance</td><td>is used to specify how many spaces to move. </td></tr>
    <tr><td class="paramname">delay</td><td>- pass in true for scrolling effect, false for no delay. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns void. </dd></dl>

<p class="definition">Definition at line <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html#l00370">370</a> of file <a class="el" href="avr-peripheral-features_2timer-counter_2digital-clock_2example_2hd44780__lcd_8c_source.html">hd44780_lcd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  371</span>{</div>
<div class="line"><span class="lineno">  372</span>    uint8_t <span class="keywordtype">byte</span> = 0;</div>
<div class="line"><span class="lineno">  373</span>    <span class="keywordtype">byte</span> |= CURSOR_DISPLAY_SHIFT;</div>
<div class="line"><span class="lineno">  374</span>    <span class="keywordtype">byte</span> |= (1U &lt;&lt; SHIFT_OR_CURSOR_BIT);</div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordtype">byte</span> |= (1U &lt;&lt; RIGHT_LEFT_BIT);</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordflow">for</span> (uint8_t count = 0; count &lt; distance; ++count)</div>
<div class="line"><span class="lineno">  378</span>    {</div>
<div class="line"><span class="lineno">  379</span>        lcd_command(<span class="keywordtype">byte</span>);</div>
<div class="line"><span class="lineno">  380</span>        <span class="keywordflow">if</span> (delay == <span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">  381</span>        {</div>
<div class="line"><span class="lineno">  382</span>            _delay_ms(SCROLL_DELAY_MS);</div>
<div class="line"><span class="lineno">  383</span>        }</div>
<div class="line"><span class="lineno">  384</span>    }</div>
<div class="line"><span class="lineno">  385</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_9c069a2336cfd446496c25258e848904.html">content</a></li><li class="navelem"><a class="el" href="dir_d21582d1a0e016fb5573a1a04428266d.html">modules</a></li><li class="navelem"><a class="el" href="dir_c39c18534edf3d26aea4c6c1f44a3276.html">displays</a></li><li class="navelem"><a class="el" href="dir_f6d429f28937604362c815216fccc4bf.html">hd44780_lcd</a></li><li class="navelem"><a class="el" href="dir_55be81f9a4199c7062ea5ae219d1b1da.html">example</a></li><li class="navelem"><a class="el" href="displays_2hd44780__lcd_2example_2hd44780__lcd_8h.html">hd44780_lcd.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
