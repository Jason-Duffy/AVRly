<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AVRly - AVR Development Resources: Contributor&#39;s Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AVRly - AVR Development Resources
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_content_contributors_guide__contributors_guide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Contributor's Guide </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >Contibutions to AVRly are more than welcome!</p>
<p >If you feel you could improve on a module in this collection, or add new modules for other components users might like to see, it would be great to have you involved! Contributors will be credited on the site and in Copyright notices in each file they worked on. Some examples of modules which other users may find useful are:</p>
<ul>
<li>Drivers for AVR peripheral features (interrupts, timers, ADC etc).</li>
<li>Drivers to interface with sensors.</li>
<li>Display drivers.</li>
<li>User input drivers (buttons, encoders, touchpads etc).</li>
<li>Whole projects implementing several other modules. These will need to be documented carefully with their own guides in .md files, and Kicad schematics and files for any hardware needed.</li>
</ul>
<h1><a class="anchor" id="autotoc_md62"></a>
Style Guide</h1>
<p >For a comprehensive guide on layout, style and documentation, see the <a href="https://jason-duffy.github.io/AVRly/html/md_content_anatomy_of_embedded_firmware__anatomy.html" target="_blank">Anatomy of Embedded Firmware</a> page. For even more detail on this, see the <a href="https://barrgroup.com/sites/default/files/barr_c_coding_standard_2018.pdf" target="_blank">Barr Group C Coding Standard</a>. Modularity and compartmentalisation are key for ease of maintainance and code re-use, just because this isn't C++ doesn't mean we have to throw away all those object oriented principles! If you want to extend a module in this collection to provide an extra layer of functionality for a specific purpose, the <a href="https://en.wikipedia.org/wiki/Facade_pattern" target="_blank">facade pattern</a> should be used. For an example on this, see the <a href="https://jason-duffy.github.io/AVRly/html/group__log__system.html" target="_blank">log system module</a> and observe how the USART driver is implemented, hiding it's inner workings from the layer above.</p>
<h1><a class="anchor" id="autotoc_md63"></a>
Templates</h1>
<p >The <a href="https://github.com/Jason-Duffy/AVRly" target="_blank">Github repository</a> contains <a href="https://github.com/Jason-Duffy/AVRly/tree/main/content/modules/templates" target="_blank">templates for each file type</a> mentioned in the <a href="https://jason-duffy.github.io/AVRly/html/md_content_anatomy_of_embedded_firmware__anatomy.html" target="_blank">Anatomy of Embedded Firmware</a> guide. These templates will provide the bare-bones file structure for your project, along with a Makefile to assist with building and compiling your application.</p>
<h1><a class="anchor" id="autotoc_md64"></a>
What to Avoid</h1>
<p >Try to keep drivers and modules concise. Each driver should perform a specific set of tasks well, and should expose the least possible data from within the source code. To share data between files, queues and/or getter and setter functions should be used to return data, rather than using <code>extern</code> variables in the header file (where possible).</p>
<p >Avoid using bulky standard library functions as these can link in alot of unwanted code. Instead, it's sometimes better to provide your own stripped back implementation of these functions. That doesn't mean don't use the standard library of course, just have some awareness of the overhead of external code. You can see the code size of the compiled binary by running <code>make size</code>, and you can get an idea of what the linker script is doing by running <code>make disassemble</code>, which will generate a .lst file containing an approximate assembly version of the code.</p>
<h1><a class="anchor" id="autotoc_md65"></a>
Bugs</h1>
<p >Known bugs in your own work should be documented in the Doxygen special comment block at the top of the file, using the <code>@bug</code> command. Ideally, don't submit work with known bugs, but if it's minor, the module generally works well and you feel you need other contributors to help you solve the issue, thats what <code>@bug</code> is there for. Opening and solving "Issues" on the Github repo is also encouraged where necessary.</p>
<h1><a class="anchor" id="autotoc_md66"></a>
Development Process</h1>
<p >My personal preference for managing the Git workflow is <a href="https://desktop.github.com/" target="_blank">Github Desktop</a> as I think it provides the most clarity, but some users may prefer to use Git in the command line. The steps described below are for Github Desktop. I'll outline the basics here, but for an in-depth guide on the git workflow, see their documentation <a href="https://docs.github.com/en/desktop" target="_blank">here</a>.</p>
<h2><a class="anchor" id="autotoc_md67"></a>
Cloning/Forking the Repository</h2>
<p >In the <b>File</b> menu, go to <b>Clone Repository</b>, then select the <b>URL</b> tab. In the <b>URL</b> field, paste in the following: <a href="https://github.com/Jason-Duffy/AVRly">https://github.com/Jason-Duffy/AVRly</a></p>
<p >In the <b>Local Path</b> field, select the location you'd like your local repo to be stored. Ensure the last directory in the path is empty. If the location you want has files in already, you can just create a new subdirectory by adding the new folder name on the end of the path. Then click <b>Clone</b>.</p>
<div class="image">
<img src="git_clone.png" alt=""/>
<div class="caption">
Clone Repository</div></div>
   <p >As you will not have write access to this repository, Github will create a fork, and will ask you how you plan to use it. Select <b>To contribute to the parent project</b> if you plan on doing so, otherwise select <b>For my own purposes</b>, then click <b>Continue</b>.</p>
<h2><a class="anchor" id="autotoc_md68"></a>
Workflow</h2>
<p >Use the development branch while working on your code, try to make regular commits with a message briefly explaining the changes you have made. This is valuable for yourself and others to see what has been done, when and why. Of course when working on your cloned or forked repo you can create as many branches as youd like and call them whatever you like - this is just a guide.</p>
<div class="image">
<img src="commit_message.png" alt=""/>
<div class="caption">
Commit Message</div></div>
   <p >Once you reach a stage where your code is working as you'd like, it's a good idea to either <b>merge</b> the changes on development into your main branch, or create a <b>pull request</b> to pull your changes into main branch. When working on your own, merging is just fine, however when collaborating with others, pull requests are generally favoured.</p>
<p >To merge into main, first ensure all your local changes have been committed to the development branch, then switch to the main branch. Go to the <b>Branch</b> menu, then click <b>Merge into current branch</b>, and select the branch you'd like to merge into main.</p>
<div class="image">
<img src="merge_branches.png" alt=""/>
<div class="caption">
Merge Branches</div></div>
   <p >Now that the main branch has been brought upto date, you are free to switch back to development and fiddle about with the code. If you go down a particular route and find it was huge mistake and everythign breaks, you still have your main branch intact. Your commits can also be reverted in the <b>History</b> tab. You can push those commits from your local repo to the remote repo (cloud storage with Github online) by clicking <b>Push origin</b>. If changes have been made on Github online, you can bring these onto your local copy by clicking <b>Fetch Origin</b>.</p>
<p >You may be wondering about the gh-pages branch - that's the source Github Pages uses to build this website, so unless you want to test how things will display in a web browser, you can just ignore that branch.</p>
<h2><a class="anchor" id="autotoc_md69"></a>
Submitting a Pull Request</h2>
<p >Once you're confident your module is complete, has been tested and everything works as it should, you can submit a pull request for the changes to be pulled into the AVRly public main branch. Pull requests will be reviewed before being accepted, so please bear with me on those.</p>
<p >Make sure you have the right branch selected (usually the main branch in your local repo), and click <b>Create Pull Request</b>. This will open a new browser window for Github online, where you can configure your request. The <b>base</b> is the main branch on the public AVRly repo, and <b>compare</b> is the forked branch with changes we would like to pull into the base.</p>
<div class="image">
<img src="pull_request.png" alt=""/>
<div class="caption">
Pull Request Configuration</div></div>
   <p >Give as much information as you can about the changes you made and why you made them. This will be used to review your changes and decide whwther to accept or reject them. Once this is done, click "Create Pull Request" and it will be submitted for review. If your request is rejected, please try not to take it too personally - I'll try to provide as much information about why the request was declined on code review, and give pointers where I can. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
